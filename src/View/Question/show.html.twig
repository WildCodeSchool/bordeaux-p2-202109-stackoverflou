{% extends 'layout.html.twig' %}

{% block content %}

    <div class="container">
        <h1 class="mb-3">{{ question.title }}</h1>


        {% include 'Components/_tag.html.twig' %}
        <h2 class="mb-3">Description</h2>
        <p>{{ question.description|nl2br }}</p>
        {% if session.user.is_admin %}
        <a href="/questions/edit?id={{ question.id }}">Edit</a>
        {% endif %}
        {% include 'Components/_addAnswer.html.twig' %}
    </div>

    <div class="container">
        <ul>
            {% for answer in answers %}
                <li class="list-group-item">
                    <h4 class="mt-4 font-weight-normal">Réponse donnée par {{ answer.username }} le {{ answer.created_at|date("d/m/Y") }}</h4>
                <form method="post" action="">
                    <input type="hidden" name="answerId" value={{ answer.answerId }}>
                    <img class="row text-center img_profile"src="https://avatars.githubusercontent.com/{{ profile.pseudo_github }}" class="img-thumbnail" alt="...">
                    <button name="nbRank" value="{{ answer.ranking }}">Like</button>
                    {{ answer.ranking }}
                </form>
                    <div>
                        {{ answer.description|raw }}
                    </div>
                    {% else %}
                    Pas encore de réponse, soyez le premier à rendre service !
                </li>
            {% endfor %}
        </ul>
    </div>

{% endblock %}
