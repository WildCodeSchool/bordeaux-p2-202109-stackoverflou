{% extends 'layout.html.twig' %}

{% block content %}

    <div class="container">
        <h1 class="mb-3">{{ question.title }}</h1>


        {% include 'Components/_tag.html.twig' %}
        <h2 class="mb-3">Description</h2>
        <p>{{ question.description|nl2br }}</p>
        {% if session.user.is_admin %}
        <a href="/questions/edit?id={{ question.id }}">Edit</a>
        {% endif %}
        <a class="btn btn-warning" href="/questions/answers?id={{ question.id }}">Répondre</a>
        {% include 'Components/_addAnswer.html.twig' %}
    </div>

    <div class="container">
        <ul class="mt-4">
            {% for answer in answers %}
                <li class="list-group-item">
                    <h4 class="mt-4 font-weight-normal">Réponse donnée par {{ answer.username }} le {{ answer.created_at|date("d/m/Y") }}</h4>
                <form method="post" action="">
                    <input type="hidden" name="answerId" value={{ answer.answerId }}>
                    <button name="nbRank" class="fas fa-thumbs-up" value="{{ answer.ranking }}"></button>
                    {{ answer.ranking }}
                </form>
                    <div>
                        {{ answer.description }}
                    </div>
                    {% else %}
                    Pas encore de réponse, soyez le premier à rendre service !
                </li>
            {% endfor %}
        </ul>
    </div>

{% endblock %}
